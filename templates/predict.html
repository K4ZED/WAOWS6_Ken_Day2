{% extends "base.html" %}
{% block title %}House Price Prediction - WAOW S6{% endblock %}

{% block content %}
<section class="predict-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="text-center mb-5">
                    <span class="predict-badge">
                        <i class="bi bi-graph-up me-2"></i>
                        Regression Model
                    </span>
                    <h1 class="predict-title">House Price Prediction</h1>
                    <p class="predict-subtitle">
                        Predict house values using machine learning. Fill in the property details below to get an estimated price.
                    </p>
                </div>

                <div class="predict-card">
                    <form id="predictForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="MedInc" class="form-label">
                                        <i class="bi bi-currency-dollar me-1"></i>
                                        Median Income
                                        <span class="label-hint">(in $10,000s)</span>
                                    </label>
                                    <input type="number" class="form-control" id="MedInc" name="MedInc" placeholder="e.g., 6.8" required step="0.01" min="0">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="HouseAge" class="form-label">
                                        <i class="bi bi-calendar3 me-1"></i>
                                        House Age
                                        <span class="label-hint">(years)</span>
                                    </label>
                                    <input type="number" class="form-control" id="HouseAge" name="HouseAge" placeholder="e.g., 27" required step="1" min="0">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="AveRooms" class="form-label">
                                        <i class="bi bi-door-open me-1"></i>
                                        Average Rooms
                                        <span class="label-hint">(per household)</span>
                                    </label>
                                    <input type="number" class="form-control" id="AveRooms" name="AveRooms" placeholder="e.g., 9.33" required step="0.01" min="0">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="AveBedrms" class="form-label">
                                        <i class="bi bi-house me-1"></i>
                                        Average Bedrooms
                                        <span class="label-hint">(per household)</span>
                                    </label>
                                    <input type="number" class="form-control" id="AveBedrms" name="AveBedrms" placeholder="e.g., 0.97" required step="0.01" min="0">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="Population" class="form-label">
                                        <i class="bi bi-people me-1"></i>
                                        Population
                                        <span class="label-hint">(block group)</span>
                                    </label>
                                    <input type="number" class="form-control" id="Population" name="Population" placeholder="e.g., 2401" required step="1" min="0">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="AveOccup" class="form-label">
                                        <i class="bi bi-person-check me-1"></i>
                                        Average Occupancy
                                        <span class="label-hint">(per household)</span>
                                    </label>
                                    <input type="number" class="form-control" id="AveOccup" name="AveOccup" placeholder="e.g., 1.4" required step="0.01" min="0">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="Latitude" class="form-label">
                                        <i class="bi bi-geo-alt me-1"></i>
                                        Latitude
                                        <span class="label-hint">(location)</span>
                                    </label>
                                    <input type="number" class="form-control" id="Latitude" name="Latitude" placeholder="e.g., 34.0" required step="0.01">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group-custom">
                                    <label for="Longitude" class="form-label">
                                        <i class="bi bi-geo me-1"></i>
                                        Longitude
                                        <span class="label-hint">(location)</span>
                                    </label>
                                    <input type="number" class="form-control" id="Longitude" name="Longitude" placeholder="e.g., -118.2" required step="0.01">
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="d-flex flex-wrap gap-2 justify-content-center">
                                    <button type="submit" class="btn btn-primary predict-submit" id="submitBtn">
                                        <span class="btn-text">
                                            <i class="bi bi-cpu me-2"></i>
                                            Predict Price
                                        </span>
                                        <span class="btn-loading d-none">
                                            <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                                            Processing...
                                        </span>
                                    </button>
                                    <button type="button" class="btn btn-sample" id="loadSample">
                                        <i class="bi bi-lightning-fill me-1"></i>
                                        Load Sample Input
                                    </button>
                                </div>
                            </div>

                            <div class="col-12 d-none" id="result">
                                <div class="result-card-enhanced">
                                    <div class="result-header">
                                        <div class="result-icon">
                                            <i class="bi bi-house-check-fill"></i>
                                        </div>
                                        <div class="result-content">
                                            <div class="result-label">Predicted House Value</div>
                                            <div class="result-value" id="resultValue">$0.00</div>
                                            <span class="category-badge" id="categoryBadge">
                                                <i class="bi bi-house me-1"></i>Budget-Friendly
                                            </span>
                                        </div>
                                    </div>

                                    <div class="gauge-container">
                                        <div class="gauge-labels">
                                            <span>$0</span>
                                            <span id="gaugeLabel">Mid-Range</span>
                                            <span>$500k+</span>
                                        </div>
                                        <div class="gauge-track">
                                            <div class="gauge-bar" id="gaugeBar"></div>
                                        </div>
                                        <div class="gauge-markers">
                                            <span>Budget</span>
                                            <span>Mid-Range</span>
                                            <span>Premium</span>
                                        </div>
                                    </div>

                                    <div class="recommendation-section">
                                        <div class="recommendation-header">
                                            <i class="bi bi-lightbulb-fill me-2"></i>
                                            Investment Tips
                                        </div>
                                        <ul class="tips-list" id="tipsList"></ul>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 d-none" id="errorResult">
                                <div class="error-card">
                                    <div class="error-icon">
                                        <i class="bi bi-exclamation-triangle-fill"></i>
                                    </div>
                                    <div class="error-content">
                                        <div class="error-label">Error</div>
                                        <div class="error-message" id="errorMessage">Something went wrong</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="row g-4 mt-3">
                    <div class="col-md-4">
                        <div class="index-card">
                            <div class="card-icon-wrapper">
                                <i class="bi bi-house-heart card-icon-bi"></i>
                            </div>
                            <span class="feature-tag tag-blue">Dataset</span>
                            <h5 class="index-card-title">California Housing</h5>
                            <p class="index-card-text">
                                Built on the California Housing dataset with 8 key features including location, demographics, and property characteristics.
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="index-card">
                            <div class="card-icon-wrapper">
                                <i class="bi bi-robot card-icon-bi"></i>
                            </div>
                            <span class="feature-tag tag-green">Model</span>
                            <h5 class="index-card-title">Regression Algorithm</h5>
                            <p class="index-card-text">
                                Advanced machine learning regression model trained to predict median house values with high accuracy.
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="index-card">
                            <div class="card-icon-wrapper">
                                <i class="bi bi-graph-up-arrow card-icon-bi"></i>
                            </div>
                            <span class="feature-tag tag-purple">Accuracy</span>
                            <h5 class="index-card-title">Reliable Predictions</h5>
                            <p class="index-card-text">
                                Model performance validated with cross-validation and tested on real-world housing data for accuracy.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/predict.js') }}"></script>
{% endblock %}
